<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<style>
		.text {
			width: 20px;
			height: 20px;
		}
	</style>
	<title>Document</title>
</head>
<body>
	<form action="#">
		<input id="inp1" type="date">
		<input class="text" type="text">
		<input id="inp2" type="date"><br>
		<input class="button" id="inp3" type="button" value="Рассчитать">
	</form>
</body>
<script>
days = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
document.querySelector('#inp3').onclick = function(){
	let oper1 = document.querySelector("#inp1").value.split('-');
	let oper2 = document.querySelector("#inp2").value.split('-');
	let operation = document.querySelector(".text").value;
	for(let i=0; i<=2; i++){
		oper1[i] = parseInt(oper1[i]);
		oper2[i] = parseInt(oper2[i]);
	}
	let day_res = 0;
	let month_res = 0;
	let year_res = 0;
	if(operation == '+'){
		day_res = oper1[2] + oper2[2];
		month_res = oper1[1] + oper2[1];
		year_res = oper1[0] + oper2[0];
		if(Math.floor(day_res/(days[oper1[1]-1]+1)) != 0){
			let num_of_added_month = 1;
			day_res = day_res - days[oper1[1]-1];
			if(Math.floor(day_res/(days[oper1[1]]+1))){
				day_res = day_res - days[oper1[1]];
				num_of_added_month += 1;
			}
			month_res += num_of_added_month;
		}
		if(Math.floor(month_res/12) != 0){
			month_res = month_res % 12;
			year_res += 1;
		}
	}
	if(operation == '-'){
		day_res = oper1[2] - oper2[2];
		month_res = oper1[1] - oper2[1];
		year_res = oper1[0] - oper2[0];
		if(day_res <= 0){
			let num_of_taken_month = 1;
			day_res = days[oper1[1]-2] + day_res;
			if(day_res <= 0){
				day_res = days[oper1[1]-3] + day_res;
				num_of_taken_month += 1;
			}
			month_res -= num_of_taken_month;
		}
		if(month_res <= 0){
			month_res = 12 + month_res;
			year_res -= 1;
		}
	}
	alert(`${day_res}-${month_res}-${year_res}`);
}
</script>
</html>
